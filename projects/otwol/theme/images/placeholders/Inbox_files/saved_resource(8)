/* (c) Copyright 1985-2011 IBM Corporation. All rights reserved. */
/* $HaikuForm - 481.21 */
                                              
                                                               EVy.prototype.FlU=function Fun(GHj){var ELS=GHj.match(/^PTMV:([^&]+)/) || GHj.match(/&PTMV:([^&]+)/);var Eut=ELS ? decodeURIComponent(ELS[1]).split(',') : [];var EuG=[];for(var i=0;i<Eut.length;i++){var aVals=Eut[i].split('|');var Evz=parseInt(aVals[0]);var EuN=aVals[1]? aVals[1]: '';var sUnid=aVals[2]? aVals[2]: '';var DcS=aVals[3]? aVals[3]: '';var GVY=aVals[4]? aVals[4]: '';var FWM=aVals[5]? aVals[5]: '';var Dd=this.GEy(Evz, EuN, sUnid, DcS, GVY, FWM);var sLog=(Dd ? 'Handled' : 'Unhandled') + ' updating view request - Request time: ' + new Date(Evz) + (EuN ? (', Action: ' + EuN) : '') + (sUnid ? (', UNID: ' + sUnid) : '') + (DcS ? (', View: ' + DcS) : '') + (GVY ? (', Extra: ' + GVY) : '') + (FWM ? (', Welcome ID: ' + FWM) : '');AAA.EVI.sr(3, '', sLog);if (!Dd && !isNaN(parseInt(aVals[0]))){var EtT=new Date().getTime();if (EtT - Evz < 3000) EuG.push(Eut[i]);}} var GdK=EuG.join(',');return ELS && ELS[1] != GdK ? ('PTMV:' + GdK) : '';};EVy.prototype.GEy = function Gcl(Evz, EuN, sUnid, DcS, GVY, FWM){var FzE={"?r": void 0, "?rup": void 0, "?rbp": void 0, "?s": void 0, "?mr": void 0, "?ruc": void 0};var Fna={"?cr": false, "?ct": false, "?cta": false, "?r": true, "?rup": true, "?rbp": true};var GuT={"?tt": 1, "?em": 1, "?fn": 1};var GVE={calendar: AAA.sCalendarViewClassName, todo: 'e-listview-container-todo:' + AAA.Fgg, contacts: 'e-listview-container-contacts:' + AAA.Fgg, notebook: 'e-listview-container-notebook:' + AAA.Fgg, mail: 'e-listview-container-mail:' + AAA.Fgg};var GFp={"?oed": 'a-deletefolder' ,"?oer": 'a-renamefolder' ,"?oen": 'a-newfolder'};if (GFp[EuN]){EKc.prototype.EQj['EsC1']=(AAA.FGG ? ['MailPageMoveCopy','miscwidgets'] : ['FullMailPageMoveCopy','miscwidgets']);ELU(null, 'e-dummyId', 'EsC1',{sAction:GFp[EuN], sUnid:DcS, EUX: GVY, sMisc: FWM, fPTMV: true});return true;} var Dd=false;delete AAA.GHi[sUnid];if (EuN == "?up"){EPx.get('p-selecteddocument').BRW(DcS + '|' + sUnid + '|1');Dd=true;} else if (EuN == "?krl"){AAA.EVI.sr(3, '', 'CZR - calling back to responseListener: ' + sUnid);var DhU=AAA.DSq.EOc.prototype.Dzk[sUnid];if (DhU){DhU.DlJ(GVY);Dd=true;}} else if (FWM){var oHome=EKc.prototype.EYl['e-homeoutline-container:FIF'];if(oHome && oHome.HJV) Dd=oHome.HJV(EuN, sUnid, DcS, GVY, FWM);} else if (EuN in FzE || EuN in Fna){for (s in GVE){var ENt=EKc.prototype.EYl[GVE[s]];if (s=='calendar'){var HFm=EKc.prototype.EYl['e-sidebar-content:ENe'];var Fox=HFm? HFm.Fox: ENt? ENt.Fox: false;if (!ENt) ENt=HFm;} if (!ENt) continue;if (s == 'calendar' && EuN in Fna && (!Fna[EuN] || DcS in{"($Calendar)":void 0, "(GroupCalendarFolder)":void 0, "(iNotes_Notices)":void 0})) Dd=true;if (AAA.Fkb().EDG[s]){for (var WK=AAA.Fkb().EDG[s].get('T').oNext;WK.sId != 'T' && !Dd;WK=WK.oNext){if (WK.Cd && WK.Cd.split('|')[0] == DcS) Dd=true;}} if (Dd){var GVH=false;if (s == 'calendar' && ENt.GPj()){ENt=EKc.prototype.EYl['e-listview-container-' + s + ':' + AAA.Fgg];GVH=true;} if (s == 'calendar' && !GVH){if (GVY){var EGF=(new EYB).EKN(GVY);EGF.setDate(EGF.getDate(), ENt.EGF? ENt.EGF.CFg: EGF.CFg);EGF.Cep=true;EPx.get('p-e-calendarview-currentselected').BRW(EGF.Eaq());} if (Fox) ENt.load();else ENt.EVq=true;} else if (ENt.oCols.DWf == DcS){var Fox=AAA.Fkb().EdI.get('T').oPrev.sId == EPx.get('p-e-' + s + 'outline-currentselected').BoB;var GEU=s == 'mail';var GYC='p-selecteddocument-' + s;if (EuN == "?s"){if (EPx.get(GYC).BoB != DcS + '|' + sUnid){ENt.EWe(sUnid);if (GEU) EPx.get(GYC).BRW(DcS + '|' + sUnid);}} else if (EuN == "?mr"){EKc.prototype.EQj[AAA.Fgg + ':ENJ']=[AAA.FSL];new EKc(ENt.sId, AAA.Fgg + ':ENJ', [sUnid], true, GVY=='1' );} else if (EuN == "?rbp"){if(AAA.FGG){ENt.EVq=true;ENt.load();} else{if (Fox) ENt.load();else ENt.EVq=true;} if (GVH){var GPs=AAA.DSq.EKc.prototype.EYl['e-calendarview-frame:Fjw'];if (GPs && GPs.FsR) GPs.FsR.clear();} if (GEU) EPx.get(GYC).BRW('');} else{var GFu=EKc.prototype.EYl['e-previewpane:FYB'];if (EuN == "?rup" && GEU && GFu){var GTR=DcS + '|' + sUnid;if(GTR == EPx.get(GYC).BoB){EPx.get(GYC).BRW(GTR + '|1');}} if (Fox) ENt.load();else ENt.EVq=true;}} else if(EuN == "?ruc" && AAA.FWz.GNt && AAA.oUnreadCountManager){var DhU=new GEG(AAA.oUnreadCountManager);var FiR={s_FolderListNames:"FolderName", FolderName:DcS};DhU.load("../../iNotes/Proxy/?EditDocument&Form=s_GetFolderUnreadCountJSON", '' + new ENj(FiR, true));} break;}}} else if (EuN in GuT){var EXz=sUnid;var Blr=AAA.Fkb().getContent(EXz);if(Blr){var oTab=EKc.prototype.EYl['e-tab-' + EXz + ':Ebu'];if(EuN == "?tt"){Blr.sClassicTitle=GVY;if(oTab) oTab.ENP(Blr.sTitle && Blr.sTitle != "(Untitled)" ? Blr.sTitle : Blr.sClassicTitle || Blr.sTitle);} else if(EuN == "?fn"){Blr.Eao=Blr.Eao || GVY;} else if(EuN == "?em"){var GNH=GVY - 0;var EDt=!isNaN(GNH) && !!GNH;if(oTab && oTab.DuT){oTab.DuT.EDt=EDt;Blr.EDt=EDt;}} Dd=true;}} return Dd;};EVy.prototype.GuG = function Gmr(){if (!window.postMessage && !this.GFO){this.GFO = setInterval(this.GSo.EHq(this), AAA.FWz.GTf);} return this.GSo();};EVy.prototype.HEQ=function HJe(nSeq){if (this.HEN > nSeq) return;oSidebarProperty=EPx.get('p-e-splitter-sidebar-position');var nPos=oSidebarProperty.BoB >= 0 ? oSidebarProperty.BoB : 0;var Gvw=(nPos > 0) ? "1":"0";(new EFK("iNotesViewProfile", "ShowSideBar", Gvw)).load();};EKc.prototype.FKd['litepasstomailview']=true;            